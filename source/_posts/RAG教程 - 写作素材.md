#RAG #ai 

## å¤§çº²

- **ä»€ä¹ˆæ˜¯RAG**
	- Retrieval Augmented Generationï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰
		-  Facebookçš„2020å¹´è®ºæ–‡æå‡ºã€‚
		-  å½“æ—¶å¤§æ¨¡å‹å¤ªå¼±ï¼Œå…³æ³¨åº¦ä¸å¤Ÿã€‚ä¸»è¦æ˜¯bert
- RAGçš„æ ¸å¿ƒç»„ä»¶ï¼š
		- Retriever
		- Generator
		- Augment Method
- RAGç³»ç»Ÿç»„æˆï¼š
	- æ¨¡å‹æ‰€éœ€çš„å¤–éƒ¨æ•°æ®(indexed vector)
	- å¤§æ¨¡å‹
	- æŸ¥è¯¢æ‰€éœ€å¤–éƒ¨ä¿¡æ¯


- **RAG å®æˆ˜ -- åŸºäºLlamaIndexå®ç°ç§æœ‰æ•°æ®Q&A**
	- ä»Llama indexä»–ä»¬çš„è§†è§’æ¥çœ‹
		- ![image.png](https://s.alidraft.com/vent/202312211619130.png)
        - **åŠ è½½**ï¼šè¿™æ˜¯æŒ‡ä»æ•°æ®æ‰€åœ¨çš„ä½ç½®ï¼ˆæ— è®ºæ˜¯æ–‡æœ¬æ–‡ä»¶ã€PDFã€å…¶ä»–ç½‘ç«™ã€æ•°æ®åº“è¿˜æ˜¯APIï¼‰è·å–æ‚¨çš„æ•°æ®åˆ°æ‚¨çš„æµç¨‹ä¸­ã€‚LlamaHubæä¾›äº†æ•°ç™¾ç§è¿æ¥å™¨ä¾›æ‚¨é€‰ã€‚
        - **ç´¢å¼•**ï¼šè¿™æ„å‘³ç€åˆ›å»ºä¸€ä¸ªå…è®¸æŸ¥è¯¢æ•°æ®çš„æ•°æ®ç»“æ„ã€‚å¯¹äºLLMsæ¥è¯´ï¼Œè¿™å‡ ä¹æ€»æ˜¯æ„å‘³ç€åˆ›å»º`å‘é‡Â åµŒå…¥`ï¼Œè¿™æ˜¯æ‚¨æ•°æ®å«ä¹‰çš„æ•°å€¼è¡¨ç¤ºï¼Œä»¥åŠè®¸å¤šå…¶ä»–å…ƒæ•°æ®ç­–ç•¥ï¼Œä»¥ä¾¿äºå‡†ç¡®æ‰¾åˆ°ä¸Šä¸‹æ–‡ç›¸å…³çš„æ•°æ®
        - **å­˜å‚¨**ï¼šä¸€æ—¦æ‚¨çš„æ•°æ®è¢«ç´¢å¼•ï¼Œæ‚¨å‡ ä¹æ€»æ˜¯å¸Œæœ›å­˜å‚¨æ‚¨çš„ç´¢å¼•ä»¥åŠå…¶ä»–å…ƒæ•°æ®ï¼Œä»¥é¿å…é‡æ–°ç´¢å¼•ã€‚
        - **æŸ¥è¯¢**ï¼šå¯¹äºä»»ä½•ç»™å®šçš„ç´¢å¼•ç­–ç•¥ï¼Œæ‚¨å¯ä»¥åˆ©ç”¨LLMså’ŒLlamaIndexæ•°æ®ç»“æ„è¿›è¡Œå¤šç§æŸ¥è¯¢ï¼ŒåŒ…æ‹¬å­æŸ¥è¯¢ã€å¤šæ­¥æŸ¥è¯¢å’Œæ··åˆç­–ç•¥
        - **è¯„ä¼°**ï¼šåœ¨ä»»ä½•æµç¨‹ä¸­ï¼Œä¸€ä¸ªå…³é”®çš„æ­¥éª¤æ˜¯æ£€æŸ¥å®ƒç›¸å¯¹äºå…¶ä»–ç­–ç•¥çš„æ•ˆæœï¼Œæˆ–è€…å½“ä½ åšå‡ºæ”¹å˜æ—¶ã€‚è¯„ä¼°æä¾›äº†å…³äºä½ å¯¹æŸ¥è¯¢çš„å“åº”æœ‰å¤šå‡†ç¡®ã€å¿ å®å’Œå¿«é€Ÿçš„å®¢è§‚è¡¡é‡
        - ![image.png](https://s.alidraft.com/vent/202312211634399.png)



	**- ç½‘é¡µæ•°æ®çš„Q&A** 
		Jupyter Notebook é“¾æ¥ï¼ˆä»£ç åˆ†äº«ç”¨colab)

- **RAGè¯„ä¼°**

**æœªæ¥è§„åˆ’**
- å†™ä¸ª obsidianç‰ˆçš„notion Q&A æ’ä»¶
-  ç§»åŠ¨ç«¯å‘é‡æ•°æ®åº“ï¼Ÿ


## Building and Evaluating Advanced RAG

https://learn.deeplearning.ai/building-evaluating-advanced-rag/lesson/2/advanced-rag-pipeline


## **[Retrieval-Augmented Generation for Large Language Models: A Survey"](https://arxiv.org/pdf/2312.10997.pdf)**


###  Timeline of RAG
![image.png](https://s.alidraft.com/vent/202312211120837.png)

###  RAG vs Fine-tuning
![image.png](https://s.alidraft.com/vent/202312211120910.png)

### Paradigm of RAG

![image.png](https://s.alidraft.com/vent/202312211123188.png)


###  Taxonomy of Core Components

![image.png](https://s.alidraft.com/vent/202312211137427.png)


## ç®€å•RAG
![[RAG Learning]]



```sh
!pip install llama-index transformers

```

```python
from llama_index.readers import BeautifulSoupWebReader

  

url = "https://www.draftai.cn/2023/12/19/chatonce-support-chat-with-file/"

  

documents = BeautifulSoupWebReader().load_data([url])

```

```python

## index 
import os

import openai

  

os.environ['OPENAI_API_KEY'] = "sk-"

openai.api_key = os.environ['OPENAI_API_KEY']
from llama_index.llms import OpenAI

  

llm = OpenAI(model="gpt-3.5-turbo-1106", temperature=0)
from llama_index import ServiceContext

  
## éœ€è¦è§£é‡Šä¸€ä¸‹
service_context = ServiceContext.from_defaults(llm=llm, embed_model="local:BAAI/bge-small-zh-v1.5") #BAAI/bge-small-zh-v1.5. BAAI/bge-small-en-v1.5




```

```python
from llama_index.response.notebook_utils import display_response
import logging

import sys

  

logging.basicConfig(stream=sys.stdout, level=logging.INFO)

logging.getLogger().addHandler(logging.StreamHandler(stream=sys.stdout))
query_engine = vector_index.as_query_engine(response_mode="compact")

  

response = query_engine.query("æ™ºå†™AIèƒ½å¹²å˜›?å®ƒæœ€æ–°çš„åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ")

  

display_response(response)
```

![image.png](https://s.alidraft.com/vent/202312211901720.png)


![image.png](https://s.alidraft.com/vent/202312211900917.png)


![image.png](https://s.alidraft.com/vent/202312211903829.png)

## Llama index

![[High-Level Concepts - LlamaIndex ğŸ¦™ 0.9.19]]